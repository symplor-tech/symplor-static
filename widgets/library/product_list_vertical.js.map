{"version":3,"file":"product_list_vertical.js","mappings":"YAAA,MAiOMA,EAAmBC,GAASA,EAAIC,SAAS,KAAO,IAAM,IAgFtDC,EAAU,EAAGC,KAAAA,EAAMC,OAAAA,EAAS,OAChC,IAAIC,EAAe,GAMnB,OALIC,MAAMC,QAAQJ,IAChBA,EAAKK,SAASC,IACZJ,GA/Dc,EAACF,EAAMC,IACjBM,gBAAmB,kGApBK,EAACV,EAAKW,KACtC,IAAKX,GAAsB,iBAARA,EACjB,OAAOA,EAET,IAAIY,EAAWZ,EACf,MAAM,gBAAEa,EAAF,IAAmBC,GAAQH,EAWjC,OAVIG,IACFF,GAAYb,EAAgBC,GAC5BY,GAAa,OAAME,KAEjBD,IACFD,EAAY,GAAEC,IAAkBd,EAC9Bc,SACME,mBAAmBH,MAGtBA,GAKUI,CACTb,EAAKH,IACLI,EAAOO,2bAMCR,EAAKc,8CAC+Bd,EAAKe,iBACvDf,EAAKe,8JAKqCf,EAAKe,ocAMjCf,EAAKgB,WACA,iOAAgOhB,EAAKgB,oBACtO,2TAO4ChB,EAAKiB,MAAMC,gFACvBlB,EAAKmB,UAAUD,oJAG7ClB,EAAKoB,8GAKTpB,EAAKqB,UACA,uCACCrB,EAAKqB,UAAUC,MAAM,KAAKC,SACzBtB,EAAOoB,WAAa,mBACvB,+TAkBFG,CAAYlB,EAAML,MAG9B,yBACNA,EAAOwB,SAAY,8EACsCvB,WAyE7DwB,OAAOC,QAAUD,OAAOC,SAAW,CAAEC,WAAY,IACjDF,OAAOC,QAAQC,WAAWC,sBAXGC,IACpB,CACLC,OA3XY,umJA4XZC,KAAMjC,EAAQ+B,GACdG,OAASC,IA/DP,yBAA0BR,SAC5BS,eAAiB,IAAIC,sBAClBC,IACCA,EAAQhC,SAASiC,IAEbA,IACCA,EAAaC,gBAAkBD,EAAaE,kBAAoB,KAEjEL,eAAeM,UAAUH,EAAaI,QACtCJ,EAAaI,OAAOC,aAClB,MACAL,EAAaI,OAAOE,aAAa,2BAKzC,CAAEC,WAAY,4BAEhBC,SAASC,iBAAiB,yBAAyB1C,SAAS2C,IAC1Db,eAAec,QAAQD,U","sources":["webpack://widgets-library/./src/components/organisms/ProductListVertical/ProductListVertical.js"],"sourcesContent":["const styles = `  \r\nbody {padding:0;margin:0}\r\n.s_w_title {margin-bottom: 12px; font-size: 16px; text-transform: uppercase; color: black;}\r\n.ProductList_container {\r\n  display: flex;\r\n  flex-flow: column;\r\n  height: 540px;\r\n  overflow-y: scroll;\r\n}\r\n.ProductList_container a {\r\n  text-decoration: none;\r\n}\r\n.ProductCard_card:not(:last-child) {\r\n  margin-bottom: 8px;\r\n}\r\n.ProductCard_product_details {\r\n  width: calc(100% - 92px);\r\n}\r\n.ProductCard_inner {\r\n  display: flex;\r\n  flex-flow: row;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  border: 1px solid #ececec;\r\n  padding: 12px;\r\n  background-color: #fff;\r\n  border-radius: 4px;\r\n  -webkit-background-clip: padding-box;\r\n  -moz-background-clip: padding;\r\n  background-clip: padding-box;\r\n  position: relative;\r\n}\r\n.ProductCard_product_img {\r\n  margin: 0 12px 24px 0;\r\n  flex: 0 0 75px;\r\n  height: 100%;\r\n  min-height: 50px;\r\n  background: #fff;\r\n  position: relative;\r\n}\r\n.ProductCard_product_img::before {\r\n  display: block;\r\n  content: \"\";\r\n  width: 100%;\r\n  padding-top: 56.25%;\r\n}\r\n.ProductCard_content {\r\n  overflow: hidden;\r\n  height: 100%;\r\n  margin: 0 -12px;\r\n  background-color: #f6f6f6;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n.ProductCard_content img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n}\r\n.ProductCard_text {\r\n  font: 600 10px/12px futura, sans-serif;\r\n  color: #4e720f;\r\n  position: absolute;\r\n  background-color: white;\r\n  padding: 4px;\r\n  border-radius: 8px 0 0 2px;\r\n  align-items: center;\r\n  position: absolute;\r\n  z-index: 9;\r\n  bottom: 26px;\r\n  top: auto;\r\n  left: 0px;\r\n  right: auto;\r\n}\r\n.ProductCard_text img {\r\n  height: 10px;\r\n  width: 10px;\r\n  margin-right: 4px;\r\n}\r\n.ProductCard_rating_with_logo {\r\n  display: flex;\r\n  -moz-box-pack: justify;\r\n  justify-content: space-between;\r\n  margin: 0;\r\n}\r\n.ProductCard_col {\r\n  max-width: 100%;\r\n  position: absolute;\r\n  right: 12px;\r\n  bottom: 28px;\r\n  z-index: 3;\r\n}\r\n.ProductCard_col img {\r\n  height: 15px;\r\n  width: auto;\r\n  max-width: 100%;\r\n}\r\n.ProductCard_title {\r\n  font: 600 12px/20px futura, sans-serif;\r\n  height: 36px;\r\n  color: #1a1a1a;\r\n  margin: 0;\r\n  white-space: normal;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n.ProductCard_original_price {\r\n  font: normal 12px/16px futura, sans-serif;\r\n  margin: 0;\r\n  color: #1a1a1a;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.ProductCard_discount_price {\r\n  font: 600 18px/24px futura, sans-serif;\r\n  color: #ff0000;\r\n  margin-right: 8px;\r\n}\r\n.ProductCard_discount_price:not(:empty):before {\r\n  content: \"₹\";\r\n  padding-right: 2px;\r\n}\r\n.ProductCard_original_price .ProductCard_mrp {\r\n  font: normal 12px/16px futura, sans-serif;\r\n  position: relative;\r\n  top: 4px;\r\n  text-decoration: line-through;\r\n  padding-right: 5px;\r\n  color: #1a1a1a;\r\n}\r\n.ProductCard_original_price .ProductCard_mrp:not(:empty):before {\r\n  content: \"₹\";\r\n}\r\n.ProductCard_pricewrapper {\r\n  flex: 1 1;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-flow: column;\r\n}\r\n.ProductCard_price_cta_box {\r\n  display: flex;\r\n  flex-flow: row;\r\n  align-items: center;\r\n  margin-top: auto;\r\n  padding: 4px 0;\r\n}\r\n.ProductCard_original_price {\r\n  font: normal 12px/16px futura, sans-serif;\r\n  margin: 0;\r\n  color: #1a1a1a;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  align-items: center;\r\n  display: flex;\r\n  height: 36px;\r\n}\r\n.ProductCard_mrp {\r\n  font: 500 12px/20px futura, sans-serif;\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\n.ProductCard_offer_text {\r\n  order: -1;\r\n  font: 500 10px/18px futura, sans-serif;\r\n  color: #fff;\r\n  height: 18px;\r\n  display: inline-flex;\r\n  padding: 0 8px;\r\n  border-radius: 2px;\r\n  background: #b5b5b5;\r\n  overflow: hidden;\r\n  max-width: 46px;\r\n}\r\n\r\n.ProductCard_new_offer {\r\n  width: auto;\r\n  padding: 4px;\r\n  color: #fff;\r\n  border-radius: 0 8px 2px 0;\r\n  background-clip: padding-box;\r\n  background: #ff0000;\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 12px;\r\n  text-transform: uppercase;\r\n  font: normal 10px/14px futura, sans-serif;\r\n  display: flex;\r\n  flex-flow: column;\r\n  height: auto;\r\n  align-items: center;\r\n}\r\n\r\n.ProductCard_logo_cta_container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: nowrap;\r\n  -moz-box-align: center;\r\n  align-items: center;\r\n  min-height: 18px;\r\n}\r\n.ProductCard_cta {\r\n  color: #ffffff;\r\n  padding: 0 8px;\r\n  text-transform: uppercase;\r\n  font: 700 12px/16px futura, sans-serif;\r\n  border: none;\r\n  position: absolute;\r\n  text-align: center;\r\n  background-color: #065e1f;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 26px;\r\n  border-radius: 0 0 4px 4px;\r\n  background-clip: padding-box;\r\n  cursor: pointer;\r\n}\r\n`\r\n\r\nconst getURLSeparator = (url) => (url.includes('?') ? '&' : '?')\r\n\r\nconst getIntermediateURLWithTag = (url, intermediateURLConfig) => {\r\n  if (!url || typeof url !== 'string') {\r\n    return url\r\n  }\r\n  let finalURL = url\r\n  const { intermediateURL, tag } = intermediateURLConfig\r\n  if (tag) {\r\n    finalURL += getURLSeparator(url)\r\n    finalURL += `tag=${tag}`\r\n  }\r\n  if (intermediateURL) {\r\n    finalURL = `${intermediateURL}${getURLSeparator(\r\n      intermediateURL\r\n    )}url=${encodeURIComponent(finalURL)}`\r\n  }\r\n\r\n  return finalURL\r\n}\r\n\r\nconst getCardHTML = (data, config) => {\r\n  return (productCardHTML = `<div class=\"js-card ProductCard_card ProductCardList_card ProductCard_web\" >\r\n        <a href=\"${getIntermediateURLWithTag(\r\n          data.url,\r\n          config.intermediateURLConfig\r\n        )}\" rel=\"noopener nofollow noreferrer sponsored\" class=\"\" target=\"_blank\" >\r\n          <div class=\"ProductCard_inner ProductCard_vertical_slim ProductCard_full_width\" >\r\n            <figure class=\"ProductCard_product_img\">\r\n              <div class=\"ProductCard_content\">\r\n                <img style=\"width:100%\" src=\"data:image/gif;base64,R0lGODlhAQABAPAAAMzMzAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\" data-symplor-src=\"${\r\n                  data.imageURL\r\n                }\" class=\"ProductCard_contain\" alt=\"${data.title}\" title=\"${\r\n    data.title\r\n  }\" />\r\n              </div>\r\n            </figure>\r\n            <div class=\"ProductCard_product_details\">\r\n              <h5 class=\"ProductCard_title\">${data.title}</h5>\r\n              <div class=\"ProductCard_rating_with_logo\">\r\n                <span class=\"ProductCard_col\">\r\n                  <img style=\"height: 18px\" src=\"data:image/gif;base64,R0lGODlhAQABAPAAAMzMzAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\" data-symplor-src=\"https://static.symplor.com/images/affiliates/amazon-logo.png\" class=\"ProductCard_logo ProductCard_logo_height\" alt=\"Logo\" title=\"Logo\" />\r\n                </span>\r\n                ${\r\n                  data.starRating\r\n                    ? `<span class=\"ProductCard_text\"><img title=\"star\" src=\"data:image/gif;base64,R0lGODlhAQABAPAAAMzMzAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\" data-symplor-src=\"https://static.symplor.com/images/affiliates/star.svg\" alt=\"star\">${data.starRating}</span>`\r\n                    : ''\r\n                }\r\n              </div>\r\n              <div class=\"ProductCard_price_cta_box\">\r\n                <div class=\"ProductCard_pricewrapper\">\r\n                  <div class=\"ProductCard_mrp\">\r\n                    <div class=\"ProductCard_original_price\">\r\n                      <span class=\"ProductCard_discount_price\" >${data.price.toLocaleString()}</span>\r\n                      <span class=\"ProductCard_mrp\">${data.listPrice.toLocaleString()}</span>\r\n                      <span class=\"ProductCard_new_offer\">\r\n                      <span class=\"ProductCard_offer_inner\">${\r\n                        data.discount\r\n                      }<i>%</i></span>Off</span>\r\n                    </div>\r\n                  </div>\r\n                  ${\r\n                    data.offerText\r\n                      ? `<div class=\"ProductCard_offer_text\">${\r\n                          data.offerText.split('|').length\r\n                        }${config.offerText || '+ offers'}</div>`\r\n                      : ''\r\n                  } \r\n                </div>\r\n                <div class=\"ProductCard_logo_cta_container\">\r\n                  <span></span>\r\n                  <button type=\"button\" class=\"ProductCard_cta\">Buy Now</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      </div>`)\r\n}\r\n\r\nconst getHTML = ({ data, config = {} }) => {\r\n  let productsHTML = ''\r\n  if (Array.isArray(data)) {\r\n    data.forEach((item) => {\r\n      productsHTML += getCardHTML(item, config)\r\n    })\r\n  }\r\n  return `<h3 class=\"s_w_title\">${\r\n    config.heading || `Today's Top Deals`\r\n  }</h3><div class=\"ProductList_container ProductList_web\">${productsHTML}</div>`\r\n}\r\n\r\nconst handleLazyImages = () => {\r\n  if ('IntersectionObserver' in window) {\r\n    inViewObserver = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entryToCheck) => {\r\n          if (\r\n            entryToCheck &&\r\n            (entryToCheck.isIntersecting || entryToCheck.intersectionRatio > 0)\r\n          ) {\r\n            inViewObserver.unobserve(entryToCheck.target)\r\n            entryToCheck.target.setAttribute(\r\n              'src',\r\n              entryToCheck.target.getAttribute('data-symplor-src')\r\n            )\r\n          }\r\n        })\r\n      },\r\n      { rootMargin: '100px 100px 100px 100px' }\r\n    )\r\n    document.querySelectorAll('img[data-symplor-src]').forEach((img) => {\r\n      inViewObserver.observe(img)\r\n    })\r\n  }\r\n}\r\n\r\nfunction sendGA(eventData = {}) {\r\n  var name = eventData.name\r\n  var params = eventData.params || {}\r\n  if (typeof window !== undefined && typeof window.gtag === 'function') {\r\n    window.gtag('event', name, {\r\n      ...params,\r\n      pp_url: window.top?.location?.href,\r\n    })\r\n  }\r\n}\r\n\r\nconst bindGA = () => {\r\n  productListEl.addEventListener('click', (event) => {\r\n    const cardEl = event.target.closest('.js-card')\r\n    if (cardEl) {\r\n      try {\r\n        sendGA({\r\n          name: 'amazon_click',\r\n          params: {\r\n            action: 'Product_List_Vertical',\r\n            amazon_url: cardEl.querySelector('a').getAttribute('href'),\r\n          },\r\n        })\r\n      } catch (err) {\r\n        console.log('Symplor: error during ga call')\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nconst didMount = (el, props) => {\r\n  // bindGA(el);\r\n  handleLazyImages()\r\n}\r\n\r\nconst ProductListVertical = (props) => {\r\n  return {\r\n    styles,\r\n    html: getHTML(props),\r\n    onLoad: (el) => {\r\n      didMount(el, props)\r\n    },\r\n  }\r\n}\r\n\r\nwindow.symplor = window.symplor || { components: {} }\r\nwindow.symplor.components.product_list_vertical = ProductListVertical\r\n"],"names":["getURLSeparator","url","includes","getHTML","data","config","productsHTML","Array","isArray","forEach","item","productCardHTML","intermediateURLConfig","finalURL","intermediateURL","tag","encodeURIComponent","getIntermediateURLWithTag","imageURL","title","starRating","price","toLocaleString","listPrice","discount","offerText","split","length","getCardHTML","heading","window","symplor","components","product_list_vertical","props","styles","html","onLoad","el","inViewObserver","IntersectionObserver","entries","entryToCheck","isIntersecting","intersectionRatio","unobserve","target","setAttribute","getAttribute","rootMargin","document","querySelectorAll","img","observe"],"sourceRoot":""}